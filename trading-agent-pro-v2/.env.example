# ================================================================
# Kimi Agent v3.0 — Environment Configuration
# ================================================================
# Copy this file to .env and fill in your values
#   cp .env.example .env
# ================================================================

# ── Application ─────────────────────────────────────────
APP_NAME=Kimi Agent
APP_VERSION=3.0.0
DEBUG=true
ENVIRONMENT=development
LOG_LEVEL=INFO

# ── Server ──────────────────────────────────────────────
HOST=0.0.0.0
PORT=8000
WEBSOCKET_PORT=8001

# ── Database ────────────────────────────────────────────
# SQLite (default, zero-config)
DATABASE_URL=sqlite:///./data/trading_agent.db

# TimescaleDB (production — uncomment to use)
# POSTGRES_PASSWORD=kimi_dev_pass
# TIMESCALEDB_URL=postgresql+asyncpg://kimi:kimi_dev_pass@localhost:5432/kimi_agent

# ── Redis (optional — for caching & pub/sub) ───────────
REDIS_URL=redis://localhost:6379/0

# ── Kafka (optional — for event streaming) ─────────────
KAFKA_BROKERS=localhost:9092

# ── Free Data Sources ──────────────────────────────────
# Binance WebSocket — FREE, no API key needed for public data
BINANCE_API_KEY=
BINANCE_API_SECRET=
BINANCE_TESTNET=true

# yfinance — 100% FREE, Yahoo Finance public data
# No API keys needed — ~15 min delayed for forex, real-time for US stocks

# Browser Scraper (CoinGlass) — FREE, Playwright headless
# Requires: playwright install chromium

# ── AI Providers ────────────────────────────────────────
# At least one AI provider is required for the AI chat agent
OPENROUTER_API_KEY=
GEMINI_API_KEY=
GROQ_API_KEY=
ANTHROPIC_API_KEY=
OPENAI_API_KEY=

# ── Telegram Bot Notifications (optional) ──────────────
TELEGRAM_BOT_TOKEN=
TELEGRAM_API_ID=
TELEGRAM_API_HASH=
TELEGRAM_PHONE=

# ── MLflow (optional — model tracking) ─────────────────
MLFLOW_TRACKING_URI=http://localhost:5000

# ── JWT Auth (optional — API authentication) ───────────
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=

# ── Agent Configuration ────────────────────────────────
# Multi-agent consensus threshold (agents must agree)
CONSENSUS_THRESHOLD=3
# Risk per trade as percentage of account balance
RISK_PER_TRADE_PCT=1.0
# Maximum drawdown before kill switch triggers (%)
MAX_DRAWDOWN_PCT=10.0
# Analysis loop interval in seconds
ANALYSIS_INTERVAL_SECONDS=60

# ── Backtest Configuration ─────────────────────────────
BACKTEST_INITIAL_BALANCE=10000.0
BACKTEST_COMMISSION_PCT=0.1
BACKTEST_SLIPPAGE_PCT=0.05
